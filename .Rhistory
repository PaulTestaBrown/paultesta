install.packages("ggparliament")
library(ggparliament)
data(election_data)
election_data$year
election_data$country
table(election_data$country)
election_data%>%
filter(year == 2018, country == "USA")
library(tidyverse)
election_data%>%
filter(year == 2018, country == "USA")
election_data%>%
filter(country == "USA")
df_sen <- tibble(
year = c(rep(2016,4), rep(2018,4), rep(2020,4)),
country = "USA",
type = rep(c("Actual","Actual","Forecast","Forecast"),4),
party = rep(c("Republican", "Democratic","Republican",
"Democratic",),4),
seats = c(c(52, 48,50,50), c(53,47, 52,48), c(50,50,48,52)),
colour = c(rep("#E81B23","#3333FF"),6)
)
df_sen <- tibble(
year = c(rep(2016,4), rep(2018,4), rep(2020,4)),
country = "USA",
type = rep(c("Actual","Actual","Forecast","Forecast"),3),
party = rep(c("Republican", "Democratic","Republican",
"Democratic",),3),
seats = c(c(52, 48,50,50), c(53,47, 52,48), c(50,50,48,52)),
colour = c(rep("#E81B23","#3333FF"),6)
)
df_sen <- tibble(
year = c(rep(2016,4), rep(2018,4), rep(2020,4)),
country = "USA",
type = rep(c("Actual","Actual","Forecast","Forecast"),3),
party = rep(c("Republican", "Democratic","Republican",
"Democratic"),3),
seats = c(c(52, 48,50,50), c(53,47, 52,48), c(50,50,48,52)),
colour = c(rep("#E81B23","#3333FF"),6)
)
df_sen <- tibble(
year = c(rep(2016,4), rep(2018,4), rep(2020,4)),
country = "USA",
type = rep(c("Actual","Actual","Forecast","Forecast"),3),
party = rep(c("Republican", "Democratic","Republican",
"Democratic"),3),
seats = c(c(52, 48,50,50), c(53,47, 52,48), c(50,50,48,52)),
colour = c(rep("#E81B23","#3333FF",6))
)
df_sen <- tibble(
year = c(rep(2016,4), rep(2018,4), rep(2020,4)),
country = "USA",
type = rep(c("Actual","Actual","Forecast","Forecast"),3),
party = rep(c("Republican", "Democratic","Republican",
"Democratic"),3),
seats = c(c(52, 48,50,50), c(53,47, 52,48), c(50,50,48,52)),
colour = rep(c("#E81B23","#3333FF"),6)
)
df_sen %>%
filter(year == 2016,type = "Actual") %>%
geom_parliament_seats()
df_sen %>%
filter(year == 2016,type == "Actual") %>%
geom_parliament_seats()
df_sen %>%
filter(year == 2016,type == "Actual") %>%
geom_parliament_seats(aes(x,y,col=party))
df_sen <- tibble(
year = c(rep(2016,4), rep(2018,4), rep(2020,4)),
country = "USA",
result = rep(c("Actual","Actual","Forecast","Forecast"),3),
type = "semicircle",
party = rep(c("Republican", "Democratic","Republican",
"Democratic"),3),
seats = c(c(52, 48,50,50), c(53,47, 52,48), c(50,50,48,52)),
colour = rep(c("#E81B23","#3333FF"),6)
)
df_sen %>%
filter(year == 2016,result == "Actual") %>%
ggplot(aes(x,y,col=party))+
geom_parliament_seats()
election_data$
df_sen %>%
filter(year == 2016,result == "Actual") %>%
ggplot(aes(col=party))+
geom_parliament_seats()
election_data$
df_sen %>%
filter(year == 2016,results == "Actual") %>%
ggplot(aes(col=party))+
geom_parliament_seats()
df_sen %>%
filter(year == 2016,results == "Actual") %>%
ggplot(aes(col=party))+
geom_parliament_seats()
df_sen %>%
filter(year == 2016,result == "Actual") %>%
ggplot(aes(col=party))+
geom_parliament_seats()
df_sen %>%
filter(year == 2016,result == "Actual") %>%
ggplot(aes(x, y, col=party))+
geom_parliament_seats()
df_sen %>%
filter(year == 2016,result == "Actual") %>%
ggplot(aes(x=x, y=y, col=party))+
geom_parliament_seats()
usa_data <- parliament_data(
election_data = data,
type = "semicircle", party_seats = data$seats,
parl_rows = 8
)
usa_data
usa_data <- parliament_data(
election_data = data,
type = "semicircle", party_seats = data$seats,
parl_rows = 8
)
data <- election_data[
election_data$country == "USA" &
election_data$house == "Representatives" &
election_data$year == "2016",
]
usa_data <- parliament_data(
election_data = data,
type = "semicircle", party_seats = data$seats,
parl_rows = 8
)
usa_data
usa_data <- parliament_data(
election_data = df_sen,
type = "semicircle"
parl_rows = 8
usa_data <- parliament_data(
election_data = df_sen,
type = "semicircle",
parl_rows = 8
)
usa_data
usa_data %>%
filter(year == 2016,result == "Actual") %>%
ggplot(aes(x=x, y=y, col=party))+
geom_parliament_seats()
usa_data <- parliament_data(
election_data = df_sen,
type = "semicircle",
parl_rows = 2
)
usa_data
usa_data %>%
filter(year == 2016,result == "Actual") %>%
ggplot(aes(x=x, y=y, col=party))+
geom_parliament_seats()
usa_data <- df_sen %>% filter(year == 2016,result == "Actual") %>% parliament_data(
election_data = .,
type = "semicircle",
party_seats = seats
parl_rows = 2
usa_data <- df_sen %>% filter(year == 2016,result == "Actual") %>% parliament_data(
election_data = .,
type = "semicircle",
party_seats = seats,
parl_rows = 2
)
usa_data <- df_sen %>% filter(year == 2016,result == "Actual") %>% parliament_data(
election_data = .,
type = "semicircle",
party_seats = .$seats,
parl_rows = 2
)
usa_data
usa_data %>%
filter(year == 2016,result == "Actual") %>%
ggplot(aes(x=x, y=y, col=party))+
geom_parliament_seats()
usa_data %>%
filter(year == 2016,result == "Actual") %>%
ggplot(aes(x=x, y=y, col=party))+
geom_parliament_seats()+
draw_majoritythreshold(n=50)
usa_data %>%
filter(year == 2016,result == "Actual") %>%
ggplot(aes(x=x, y=y, col=party))+
geom_parliament_seats()+
draw_majoritythreshold(n=50, type="semicircle")
usa_data %>%
filter(year == 2016,result == "Actual") %>%
ggplot(aes(x=x, y=y, col=party))+
geom_parliament_seats()+
draw_majoritythreshold(n=50, type="semicircle")+
theme_ggparliament()
usa_data <- df_sen %>% filter(year == 2016,result == "Actual") %>% parliament_data(
election_data = .,
type = "semicircle",
party_seats = .$seats,
parl_rows = 4
)
usa_data %>%
filter(year == 2016,result == "Actual") %>%
ggplot(aes(x=x, y=y, col=party))+
geom_parliament_seats()+
draw_majoritythreshold(n=50, type="semicircle")+
theme_ggparliament()
usa_data <- df_sen %>% filter(year == 2016,result == "Forecast") %>% parliament_data(
election_data = .,
type = "semicircle",
party_seats = .$seats,
parl_rows = 4
)
usa_data %>%
ggplot(aes(x=x, y=y, col=party))+
geom_parliament_seats()+
draw_majoritythreshold(n=50, type="semicircle")+
theme_ggparliament()
usa_data <- df_sen %>% filter(year == 2016,result == "Forecast") %>% parliament_data(
election_data = .,
type = "semicircle",
party_seats = .$seats,
parl_rows = 3
)
usa_data %>%
ggplot(aes(x=x, y=y, col=party))+
geom_parliament_seats()+
draw_majoritythreshold(n=50, type="semicircle")+
theme_ggparliament()
usa_data <- df_sen %>% filter(year == 2016,result == "Forecast") %>% parliament_data(
election_data = .,
type = "semicircle",
party_seats = .$seats,
parl_rows = 5
)
usa_data %>%
ggplot(aes(x=x, y=y, col=party))+
geom_parliament_seats()+
draw_majoritythreshold(n=50, type="semicircle")+
theme_ggparliament()
usa_data <- df_sen %>% filter(year == 2016,result == "Forecast") %>% parliament_data(
election_data = .,
type = "semicircle",
party_seats = .$seats,
parl_rows = 10
)
usa_data
usa_data %>%
ggplot(aes(x=x, y=y, col=party))+
geom_parliament_seats()+
draw_majoritythreshold(n=50, type="semicircle")+
theme_ggparliament()
usa_data <- df_sen %>% filter(year == 2016,result == "Forecast") %>% parliament_data(
election_data = .,
type = "semicircle",
party_seats = .$seats,
parl_rows = 1
)
usa_data
usa_data %>%
ggplot(aes(x=x, y=y, col=party))+
geom_parliament_seats()+
draw_majoritythreshold(n=50, type="semicircle")+
theme_ggparliament()
usa_data <- df_sen %>% filter(year == 2016,result == "Forecast") %>% parliament_data(
election_data = .,
type = "semicircle",
party_seats = .$seats,
parl_rows = 2
)
usa_data
usa_data %>%
ggplot(aes(x=x, y=y, col=party))+
geom_parliament_seats()+
draw_majoritythreshold(n=50, type="semicircle")+
theme_ggparliament()
sqrt(.5^2/405)
sqrt(.5^2/405)*1.96
the_packages <- c(
## R Markdown
"kableExtra","DT","texreg",
## Tidyverse
"tidyverse", "lubridate", "forcats", "haven", "labelled",
## Extensions for ggplot
"ggmap","ggrepel", "ggridges", "ggthemes", "ggpubr",
"GGally", "scales", "dagitty", "ggdag", "ggforce",
# Graphics:
"scatterplot3d", #<<
# Data
"COVID19","maps","mapdata","qss","tidycensus", "dataverse",
# Analysis
"DeclareDesign", "easystats", "zoo"
)
ipak <- function(pkg){
new.pkg <- pkg[!(pkg %in% installed.packages()[, "Package"])]
if (length(new.pkg))
install.packages(new.pkg, dependencies = TRUE)
sapply(pkg, require, character.only = TRUE)
}
ipak(the_packages)
install_github("kosukeimai/qss-package", build_vignettes = TRUE)
devtools::install_github("kosukeimai/qss-package", build_vignettes = TRUE)
